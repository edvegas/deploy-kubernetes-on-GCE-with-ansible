---
- name: Download official Kubernetes release binaries
  get_url:
    url: "{{ item }}"
    dest: "/home/k8s/{{ item }}"
    mode: 0755
  with_items:
    - https://storage.googleapis.com/kubernetes-release/release/v1.12.0/bin/linux/amd64/kube-apiserver
    - https://storage.googleapis.com/kubernetes-release/release/v1.12.0/bin/linux/amd64/kube-controller-manager
    - https://storage.googleapis.com/kubernetes-release/release/v1.12.0/bin/linux/amd64/kube-scheduler
    - https://storage.googleapis.com/kubernetes-release/release/v1.12.0/bin/linux/amd64/kubectl

- name: Install Kubernetes binaries
  become: yes
  command: mv kube-apiserver kube-controller-manager kube-scheduler kubectl /usr/local/bin/
  args:
    chdir: /home/k8s
